<!DOCTYPE HTML>
<html lang="zh-tw" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>对接百度地图 | SuperMap Online在线教程</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-tbfed-pagefooter/footer.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./amap.html" />
    
    
    <link rel="prev" href="./google.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.3"
        data-chapter-title="对接百度地图"
        data-filepath="baidu.md"
        data-basepath="."
        data-revision="Fri May 27 2016 16:45:08 GMT+0800 (中国标准时间)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
                
                <li>
                    <a href="http://www.supermapol.com/" target="blank" class="custom-link">SuperMap Online</a>
                </li>
            
            

            
            <li class="divider"></li>
            

            
    
        <li class="chapter " data-level="0" data-path="jsapi.html">
            
                
                    <a href="./jsapi.html">
                
                        <i class="fa fa-check"></i>
                        
                        JavaScript API 简介
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="iclientforjs.html">
            
                
                    <a href="./iclientforjs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        iClient for JavaScript 简介
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        认识SuperMap iConnector
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="leaflet.html">
            
                
                    <a href="./leaflet.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        对接 Leaflet
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="google.html">
            
                
                    <a href="./google.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        对接 Google Maps
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="baidu.html">
            
                
                    <a href="./baidu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        对接百度地图
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="amap.html">
            
                
                    <a href="./amap.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        对接高德地图
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    本書使用 GitBook 釋出
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >SuperMap Online在线教程</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="&#x4F7F;&#x7528;iconnector&#x5BF9;&#x63A5;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x5E94;&#x7528;">&#x4F7F;&#x7528;iConnector&#x5BF9;&#x63A5;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x5E94;&#x7528;</h1>
<hr>
<!-- toc -->
<ul>
<li><a href="#iconnectorbaidujs%E7%AE%80%E4%BB%8B">iConnectorBaidu.js&#x7B80;&#x4ECB;</a></li>
<li><a href="#%E5%87%86%E5%A4%87%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">&#x51C6;&#x5907;&#x5F00;&#x53D1;&#x73AF;&#x5883;</a><ul>
<li><a href="#1-%E5%9F%BA%E4%BA%8E%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE-javascript-api%E7%9A%84%E5%9C%B0%E5%9B%BE%E5%BA%94%E7%94%A8">1. &#x57FA;&#x4E8E;&#x767E;&#x5EA6;&#x5730;&#x56FE; JavaScript API&#x7684;&#x5730;&#x56FE;&#x5E94;&#x7528;</a></li>
<li><a href="#2-%E5%87%86%E5%A4%87supermap-gis%E6%9C%8D%E5%8A%A1">2. &#x51C6;&#x5907;SuperMap GIS&#x670D;&#x52A1;</a></li>
<li><a href="#3-supermap%E7%9A%84javascript-api">3. SuperMap&#x7684;JavaScript API</a></li>
</ul>
</li>
<li><a href="#%E7%A4%BA%E4%BE%8B1%EF%BC%9A%E5%9C%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%8A%E5%8F%A0%E5%8A%A0supermap%E7%AD%89%E7%BA%A7%E7%AC%A6%E5%8F%B7%E4%B8%93%E9%A2%98%E5%9B%BE">&#x793A;&#x4F8B;1&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x53E0;&#x52A0;SuperMap&#x7B49;&#x7EA7;&#x7B26;&#x53F7;&#x4E13;&#x9898;&#x56FE;</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B2%EF%BC%9A%E5%9C%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%8A%E6%B7%BB%E5%8A%A0gps%E7%82%B9%E3%80%81%E7%BA%BF">&#x793A;&#x4F8B;2&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;GPS&#x70B9;&#x3001;&#x7EBF;</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B3-%E5%9C%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%8A%E6%B7%BB%E5%8A%A0gps%E9%9D%A2">&#x793A;&#x4F8B;3 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;GPS&#x9762;</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B4-%E5%9C%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%8A%E6%B7%BB%E5%8A%A0supermap%E8%B7%9D%E7%A6%BB%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%82%B9">&#x793A;&#x4F8B;4 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;SuperMap&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x70B9;</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B5-%E5%9C%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%8A%E6%B7%BB%E5%8A%A0supermap-sql%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BA%BF">&#x793A;&#x4F8B;5 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;SuperMap SQL&#x67E5;&#x8BE2;&#x7684;&#x7EBF;</a></li>
</ul>
<!-- tocstop -->
<h3 id="iconnectorbaidujs&#x7B80;&#x4ECB;">iConnectorBaidu.js&#x7B80;&#x4ECB;</h3>
<p>&#x5982;&#x679C;&#x60A8;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x7684;JavaScript API&#x6784;&#x5EFA;&#x4E86;&#x5730;&#x56FE;&#x5E94;&#x7528;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;iConnectorBaidu.js&#x5BF9;&#x63A5;SuperMap&#x7684;GIS&#x670D;&#x52A1;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x53E0;&#x52A0;&#x901A;&#x8FC7;SuperMap&#x53D1;&#x5E03;&#x7684;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x3002;</p>
<p>iConnectorBaidu.js&#x4E3B;&#x8981;&#x63D0;&#x4F9B;&#x4E86;&#x5730;&#x56FE;&#x53E0;&#x52A0;&#x4EE5;&#x53CA;Geometry&#x7684;&#x8F6C;&#x6362;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#xFF0C;&#x53E0;&#x52A0;SuperMap&#x5730;&#x56FE;&#x670D;&#x52A1;&#x4E2D;&#x7684;&#x5730;&#x56FE;&#x3001;&#x4E13;&#x9898;&#x56FE;&#x3001;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x4EE5;&#x53CA;&#x7A7A;&#x95F4;&#x5206;&#x6790;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="&#x51C6;&#x5907;&#x5F00;&#x53D1;&#x73AF;&#x5883;">&#x51C6;&#x5907;&#x5F00;&#x53D1;&#x73AF;&#x5883;</h3>
<h4 id="1-&#x57FA;&#x4E8E;&#x767E;&#x5EA6;&#x5730;&#x56FE;-javascript-api&#x7684;&#x5730;&#x56FE;&#x5E94;&#x7528;">1. &#x57FA;&#x4E8E;&#x767E;&#x5EA6;&#x5730;&#x56FE; JavaScript API&#x7684;&#x5730;&#x56FE;&#x5E94;&#x7528;</h4>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x7684;&#x5728;&#x7EBF;JavaScript API&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code class="lang-JavaScript">    &lt;script src=<span class="hljs-string">&quot;http://api.map.baidu.com/api?v=2.0&amp;ak=&#x60A8;&#x7684;&#x5BC6;&#x94A5;&quot;</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</span></code></pre>
<h4 id="2-&#x51C6;&#x5907;supermap-gis&#x670D;&#x52A1;">2. &#x51C6;&#x5907;SuperMap GIS&#x670D;&#x52A1;</h4>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6765;&#x81EA;&#x60A8;&#x7684;SuperMap iServer&#x670D;&#x52A1;&#x5668;&#x7684;REST GIS&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#x6765;&#x81EA;SuperMap&#x6280;&#x672F;&#x8D44;&#x6E90;&#x4E2D;&#x5FC3;&#x7684;&#xFF1A;<a href="http://support.supermap.com.cn:8090/iserver/services/map-china400/rest/maps/China&#x3002;" target="_blank">http://support.supermap.com.cn:8090/iserver/services/map-china400/rest/maps/China&#x3002;</a></p>
<p>&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x6258;&#x7BA1;&#x5728;SuperMap Online&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x53D1;&#x5E03;&#x7684;&#x5730;&#x56FE;&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;<a href="http://www.supermapol.com/iserver/services/vm3sbiax/rest/maps/World" target="_blank">http://www.supermapol.com/iserver/services/vm3sbiax/rest/maps/World</a></p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x5728;&#x7EBF;GIS&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;SuperMap Online&#x79DF;&#x7528;GIS&#x4E91;&#x4E3B;&#x673A;&#xFF0C;&#x5E76;&#x53D1;&#x5E03;&#x60A8;&#x81EA;&#x5DF1;&#x7684;GIS&#x670D;&#x52A1;&#x3002;</p>
<h4 id="3-supermap&#x7684;javascript-api">3. SuperMap&#x7684;JavaScript API</h4>
<p>iClient for JavaScript&#x4E0E;iConnectorAMap.js</p>
<pre><code class="lang-JavaScript">    &lt;script src=<span class="hljs-string">&quot;http://www.supermapol.com/resources/api/libs/SuperMap.Include.js&quot;</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;http://sandbox.runjs.cn/uploads/rs/3/dofmucai/iConnectorAMap.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</span></code></pre>
<h3 id="&#x793A;&#x4F8B;1&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x53E0;&#x52A0;supermap&#x7B49;&#x7EA7;&#x7B26;&#x53F7;&#x4E13;&#x9898;&#x56FE;">&#x793A;&#x4F8B;1&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x53E0;&#x52A0;SuperMap&#x7B49;&#x7EA7;&#x7B26;&#x53F7;&#x4E13;&#x9898;&#x56FE;</h3>
<p><strong>Step1 &#x521D;&#x59CB;&#x5316;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<p>&#x4F7F;&#x7528;&#x767E;&#x5EA6;&#x5730;&#x56FE;API&#x521B;&#x5EFA;&#x5730;&#x56FE;&#x7A97;&#x53E3;&#x201C;allmap&#x201D;&#xFF0C;&#x6DFB;&#x52A0;&#x57FA;&#x7840;&#x5730;&#x56FE;&#x63A7;&#x4EF6;&#x5982;&#x6BD4;&#x4F8B;&#x5C3A;&#x7F29;&#x653E;&#x63A7;&#x4EF6;&#x7B49;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x52A0;&#x8F7D;&#x5730;&#x56FE;&#x7684;&#x4E2D;&#x5FC3;&#x70B9;&#x548C;&#x6BD4;&#x4F8B;&#x5C3A;&#x7EA7;&#x522B;&#xFF0C;
&#x5982;&#xFF1A;map.centerAndZoom(new BMap.Point(116, 39), 4)&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> BMap.Map(<span class="hljs-string">&apos;allmap&apos;</span>);
    map.addControl(<span class="hljs-keyword">new</span> BMap.ScaleControl());
    map.addControl(<span class="hljs-keyword">new</span> BMap.NavigationControl());
    map.enableScrollWheelZoom(<span class="hljs-literal">true</span>);
    map.centerAndZoom(<span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116</span>, <span class="hljs-number">39</span>), <span class="hljs-number">4</span>);
</code></pre>
<p><strong>Step2 &#x5236;&#x4F5C;SuperMap&#x7B49;&#x7EA7;&#x7B26;&#x53F7;&#x4E13;&#x9898;&#x56FE;</strong></p>
<p>&#x4F7F;&#x7528;SuperMap.Include.js&#xFF0C;&#x57FA;&#x4E8E;SuperMap REST&#x670D;&#x52A1;&#x4E2D;&#x7684;&quot;China_Province_R&quot;&#x56FE;&#x5C42;&#xFF0C;&#x5236;&#x4F5C;&#x7B49;&#x7EA7;&#x7B26;&#x53F7;&#x4E13;&#x9898;&#x56FE;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> themeService = <span class="hljs-keyword">new</span> SuperMap.REST.ThemeService(url,
                    {eventListeners:{<span class="hljs-string">&quot;processCompleted&quot;</span>: themeCompleted, <span class="hljs-string">&quot;processFailed&quot;</span>: themeFailed}}),
        graStyle = <span class="hljs-keyword">new</span> SuperMap.REST.ThemeGraduatedSymbolStyle({
            positiveStyle: <span class="hljs-keyword">new</span> SuperMap.REST.ServerStyle({
                markerSize: <span class="hljs-number">50</span>,
                markerSymbolID: <span class="hljs-number">0</span>,
                lineColor: <span class="hljs-keyword">new</span> SuperMap.REST.ServerColor(<span class="hljs-number">255</span>,<span class="hljs-number">165</span>,<span class="hljs-number">0</span>),
                fillBackColor: <span class="hljs-keyword">new</span> SuperMap.REST.ServerColor(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)
            })
        }),
        themeGraduatedSymbol = <span class="hljs-keyword">new</span> SuperMap.REST.ThemeGraduatedSymbol({
            expression: <span class="hljs-string">&quot;SMAREA&quot;</span>,
            baseValue: <span class="hljs-number">3000000000000</span>,
            graduatedMode: SuperMap.REST.GraduatedMode.CONSTANT,
            flow: <span class="hljs-keyword">new</span> SuperMap.REST.ThemeFlow({
                flowEnabled: <span class="hljs-literal">true</span>
            }),
            style: graStyle
        }),
        themeParameters = <span class="hljs-keyword">new</span> SuperMap.REST.ThemeParameters({
            themes: [themeGraduatedSymbol],
            datasetNames: [<span class="hljs-string">&quot;China_Province_R&quot;</span>],
            dataSourceNames: [<span class="hljs-string">&quot;China400&quot;</span>]
        });
    themeService.processAsync(themeParameters);
</code></pre>
<p><strong>Step3 &#x8F6C;&#x6362;SuperMap&#x4E13;&#x9898;&#x56FE;&#x5E76;&#x53E0;&#x52A0;&#x5230;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<p>&#x4F7F;&#x7528;iConnectorBaidu.js&#x628A;Step2&#x521B;&#x5EFA;&#x7684;SuperMap&#x4E13;&#x9898;&#x56FE;&#x53E0;&#x52A0;&#x5230;Step1&#x521B;&#x5EFA;&#x7684;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">if</span>(themeEventArgs.result.resourceInfo.id) {
        <span class="hljs-keyword">var</span> id =  themeEventArgs.result.resourceInfo.id;
        <span class="hljs-keyword">var</span> tileLayer = SuperMap.Web.iConnector.Baidu.getLayer(url,{layersID:id});

        map.addTileLayer(tileLayer);
    }
</code></pre>
<p><strong>&#x5728;&#x7EBF;&#x6F14;&#x793A;&#x4E0E;&#x6E90;&#x7801;&#x7F16;&#x8F91;</strong></p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x8BBF;&#x95EE;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x3001;&#x4F53;&#x9A8C;&#x6F14;&#x793A;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x7EBF;&#x7F16;&#x8F91;&#x6E90;&#x7801;&#x5E76;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x6548;&#x679C;&#x3002;</p>
<ul>
<li><a href="http://runjs.cn/detail/cac308zy" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/cac308zy" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<h3 id="&#x793A;&#x4F8B;2&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;gps&#x70B9;&#x3001;&#x7EBF;">&#x793A;&#x4F8B;2&#xFF1A;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;GPS&#x70B9;&#x3001;&#x7EBF;</h3>
<p>&#x7531;&#x4E8E;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x672C;&#x8EAB;&#x5BF9;&#x5750;&#x6807;&#x8FDB;&#x884C;&#x4E86;&#x504F;&#x79FB;&#x52A0;&#x5BC6;&#xFF0C;&#x4F7F;&#x7528;&#x6807;&#x51C6;WGS84&#x5750;&#x6807;&#x7CFB;&#x7684;GPS&#x70B9;&#xFF0C;&#x6216;&#x7531;&#x56FD;&#x5BB6;&#x6D4B;&#x7ED8;&#x5C40;&#x5236;&#x8BA2;&#x7684;GCJ-02&#x5750;&#x6807;&#x7CFB;&#x7684;GPS&#x70B9;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7EA0;&#x504F;&#x5904;&#x7406;&#x624D;&#x80FD;&#x53E0;&#x52A0;&#x5230;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x3002;</p>
<p>iConnectorBaidu.js&#x5C01;&#x88C5;&#x4E86;&#x76F8;&#x5173;&#x7684;&#x7EA0;&#x504F;&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;transferPoint&#x6765;&#x8C03;&#x7528;&#x3002;</p>
<p><strong>Step1 &#x521D;&#x59CB;&#x5316;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<p>&#x8BBE;&#x7F6E;&#x4E2D;&#x5FC3;&#x70B9;&#x5E76;&#x6DFB;&#x52A0;&#x63A7;&#x4EF6;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> BMap.Map(<span class="hljs-string">&quot;allmap&quot;</span>);
    map.centerAndZoom(<span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.404</span>, <span class="hljs-number">39.915</span>), <span class="hljs-number">15</span>);
    map.enableScrollWheelZoom();
</code></pre>
<p><strong>Step2 &#x521D;&#x59CB;&#x5316;GCJ-02&#x5750;&#x6807;&#x7684;GPS&#x70B9;</strong></p>
<pre><code class="lang-JavaScript"><span class="hljs-keyword">var</span> points = [  <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.3786889372559</span>,<span class="hljs-number">39.90762965106183</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.38632786853032</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.39534009082035</span>,<span class="hljs-number">39.907432133833574</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.40624058825688</span>,<span class="hljs-number">39.90789300648029</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.41413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.42413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.43413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.44413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.45413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.46413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.47413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.48413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.49413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.50413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.51413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.52413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.53413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.54413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.55413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.56413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.57413701159672</span>,<span class="hljs-number">39.90795884517671</span>),
                <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.58413701159672</span>,<span class="hljs-number">39.90795884517671</span>)
             ];
</code></pre>
<p><strong>Step3 &#x5BF9;&#x70B9;&#x8FDB;&#x884C;&#x5750;&#x6807;&#x7EA0;&#x504F;</strong></p>
<p>&#x901A;&#x8FC7;iConnectorBaidu.js&#xFF0C;&#x628A;GPS&#x70B9;&#x7684;&#x5750;&#x6807;&#x8F6C;&#x4E3A;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x7CFB;&#x4E0B;&#x7684;&#x5750;&#x6807;&#x503C;&#x3002;</p>
<pre><code class="lang-JavaScript">setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    SuperMap.Web.iConnector.Baidu.transferPoint(points,<span class="hljs-keyword">new</span> SuperMap.Projection(<span class="hljs-string">&quot;EPSG:4326&quot;</span>),acallback,<span class="hljs-number">2</span>); <span class="hljs-comment">//&#x8FDB;&#x884C;&#x5750;&#x6807;&#x8F6C;&#x6362;&#x3002;&#x53C2;&#x6570;2&#xFF0C;&#x8868;&#x793A;&#x662F;&#x4ECE;GCJ-02&#x5750;&#x6807;&#x5230;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x3002;</span>
}, <span class="hljs-number">1000</span>);  <span class="hljs-comment">//&#x4E00;&#x79D2;&#x4E4B;&#x540E;&#x5F00;&#x59CB;&#x6267;&#x884C;</span>
</code></pre>
<p>&#x5176;&#x4E2D;&#xFF0C;new SuperMap.Projection(&quot;EPSG:4326&quot;)&#xFF0C;&#x662F;&#x6307;&#x5728;&#x8F6C;&#x6362;&#x524D;&#x5148;&#x5C06;GPS&#x7684;&#x5750;&#x6807;&#x7EA0;&#x6B63;&#x4E3A;&#x6807;&#x51C6;WGS84&#x5750;&#x6807;&#xFF0C;&#x53C2;&#x6570;&#x201C;2&#x201D;&#x6807;&#x8BC6;&#x4E86;&#x8F6C;&#x6362;&#x7684;&#x539F;&#x5750;&#x6807;&#x3002;transferPoint&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x5750;&#x6807;&#x8F6C;&#x6362;&#x5230;&#x767E;&#x5EA6;&#x5750;&#x6807;&#xFF1A;</p>
<ul>
<li>2&#x4EE3;&#x8868;&#x56FD;&#x5BB6;&#x6D4B;&#x7ED8;&#x5C40;&#x5236;&#x8BA2;&#x7684;GCJ-02&#xFF0C;Google Maps&#x3001;&#x9AD8;&#x5FB7;&#x5730;&#x56FE;&#x3001;&#x817E;&#x8BAF;&#x5730;&#x56FE;&#x4F7F;&#x7528;</li>
<li>0&#x4EE3;&#x8868;&#x6807;&#x51C6;&#x7684;WGS84&#x5750;&#x6807;</li>
</ul>
<p><strong>Step4 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x628A;&#x8F6C;&#x6362;&#x540E;&#x7684;&#x70B9;&#x6807;&#x6CE8;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> points = []
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> index <span class="hljs-keyword">in</span> xyResults){
                <span class="hljs-keyword">var</span> point = xyResults[index];
                points.push(point);
                <span class="hljs-keyword">var</span> marker = <span class="hljs-keyword">new</span> BMap.Marker(point);
                map.addOverlay(marker);
            }
</code></pre>
<p><strong>Step5 &#x628A;&#x8F6C;&#x6362;&#x540E;&#x70B9;&#x8FDE;&#x63A5;&#x6210;&#x7EBF;&#x5E76;&#x6DFB;&#x52A0;&#x5230;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<p>&#x4E3A;&#x6DFB;&#x52A0;&#x7684;&#x7EBF;&#x8BBE;&#x7F6E;&#x989C;&#x8272;&#x3001;&#x5BBD;&#x5EA6;&#x3001;&#x900F;&#x660E;&#x5EA6;&#x7B49;&#x6837;&#x5F0F;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> line =<span class="hljs-keyword">new</span> BMap.Polyline(points, {strokeColor:<span class="hljs-string">&quot;blue&quot;</span>, strokeWeight:<span class="hljs-number">6</span>, strokeOpacity:<span class="hljs-number">0.5</span>});
    map.addOverlay(line);
}
</code></pre>
<p><strong>&#x5728;&#x7EBF;&#x6F14;&#x793A;&#x4E0E;&#x6E90;&#x7801;&#x7F16;&#x8F91;</strong></p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x8BBF;&#x95EE;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x3001;&#x4F53;&#x9A8C;&#x6F14;&#x793A;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x7EBF;&#x7F16;&#x8F91;&#x6E90;&#x7801;&#x5E76;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x6548;&#x679C;&#x3002;</p>
<ul>
<li><a href="http://runjs.cn/detail/fluk7vgx" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/fluk7vgx" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<h3 id="&#x793A;&#x4F8B;3-&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;gps&#x9762;">&#x793A;&#x4F8B;3 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;GPS&#x9762;</h3>
<p>&#x4E0E;&#x793A;&#x4F8B;2&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;GPS&#x70B9;&#x548C;&#x7EBF;&#x7C7B;&#x4F3C;&#xFF0C;&#x672C;&#x4F8B;&#x5C06;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;&#x7EA0;&#x504F;&#x540E;&#x7684;GPS&#x9762;&#x3002;</p>
<p><strong>Step1 &#x521D;&#x59CB;&#x5316;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> BMap.Map(<span class="hljs-string">&quot;allmap&quot;</span>);
    map.centerAndZoom(<span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.387</span>, <span class="hljs-number">39.907</span>), <span class="hljs-number">15</span>);
</code></pre>
<p><strong>Step2 &#x521B;&#x5EFA;&#x7531;&#x521B;&#x5EFA;GCJ-02&#x5750;&#x6807;&#x7684;GPS&#x70B9;&#x7EC4;&#x6210;&#x7684;&#x9762;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> points = [<span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.3786889372559</span>,<span class="hljs-number">39.90762965106183</span>),
        <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.38632786853032</span>,<span class="hljs-number">39.90795884517671</span>),
        <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.38534009082035</span>,<span class="hljs-number">39.897432133833574</span>),
        <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.37624058825688</span>,<span class="hljs-number">39.89789300648029</span>)

    ];
    <span class="hljs-keyword">var</span> polygon = <span class="hljs-keyword">new</span> BMap.Polygon(points);
</code></pre>
<p><strong>Step3 &#x628A;GPS&#x9762;&#x7EA0;&#x504F;&#x4E3A;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x7CFB;</strong></p>
<p>&#x901A;&#x8FC7;iConnectorBaidu.js&#xFF0C;&#x628A;GPS&#x9762;&#x7684;&#x5750;&#x6807;&#x8F6C;&#x4E3A;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x7CFB;&#x4E0B;&#x7684;&#x5750;&#x6807;&#x503C;&#x3002;</p>
<pre><code class="lang-JavaScript">    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        SuperMap.Web.iConnector.Baidu.transferPolygon([polygon],<span class="hljs-keyword">new</span> SuperMap.Projection(<span class="hljs-string">&quot;EPSG:4326&quot;</span>),acallback,<span class="hljs-number">2</span>);  <span class="hljs-comment">//&#x8FDB;&#x884C;&#x5750;&#x6807;&#x8F6C;&#x6362;&#x3002;&#x53C2;&#x6570;2&#xFF0C;&#x8868;&#x793A;&#x662F;&#x4ECE;GCJ-02&#x5750;&#x6807;&#x5230;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x3002;</span>
    }, <span class="hljs-number">1000</span>);  <span class="hljs-comment">//&#x4E00;&#x79D2;&#x4E4B;&#x540E;&#x5F00;&#x59CB;&#x6267;&#x884C;</span>
</code></pre>
<p><strong>Step4 &#x628A;&#x8F6C;&#x6362;&#x540E;&#x7684;GPS&#x9762;&#x6DFB;&#x52A0;&#x5230;&#x767E;&#x5730;&#x56FE;&#x4E0A;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acallback</span>(<span class="hljs-params">polygons</span>)</span>{
        map.addOverlay(polygons[<span class="hljs-number">0</span>]);
    }
</code></pre>
<p><strong>&#x5728;&#x7EBF;&#x6F14;&#x793A;&#x4E0E;&#x6E90;&#x7801;&#x7F16;&#x8F91;</strong></p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x8BBF;&#x95EE;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x3001;&#x4F53;&#x9A8C;&#x6F14;&#x793A;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x7EBF;&#x7F16;&#x8F91;&#x6E90;&#x7801;&#x5E76;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x6548;&#x679C;&#x3002;</p>
<ul>
<li><a href="http://runjs.cn/detail/73c8aqk1" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/73c8aqk1" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<h3 id="&#x793A;&#x4F8B;4-&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;supermap&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x70B9;">&#x793A;&#x4F8B;4 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;SuperMap&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x70B9;</h3>
<p>&#x540C;&#x6837;&#x56E0;&#x4E3A;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x7684;&#x5750;&#x6807;&#x504F;&#x79FB;&#xFF0C;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x53E0;&#x52A0;SuperMap&#x51E0;&#x4F55;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4E5F;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x7EA0;&#x504F;&#x5904;&#x7406;&#x3002;
&#x672C;&#x4F8B;&#x5C06;&#x628A;SuperMap&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF08;&#x70B9;&#xFF09;&#xFF0C;&#x8F6C;&#x6362;&#x5750;&#x6807;&#x540E;&#x53E0;&#x52A0;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;</p>
<p><strong>Step1 &#x521D;&#x59CB;&#x5316;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-comment">//&#x5730;&#x56FE;&#x521D;&#x59CB;&#x5316;</span>
    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> BMap.Map(<span class="hljs-string">&quot;allmap&quot;</span>);  <span class="hljs-comment">//&#x521B;&#x5EFA;&#x767E;&#x5EA6;&#x5730;&#x56FE;</span>
    <span class="hljs-keyword">var</span> center = <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.404</span>, <span class="hljs-number">32</span>);
    map.centerAndZoom(center,<span class="hljs-number">4</span>);                     <span class="hljs-comment">// &#x521D;&#x59CB;&#x5316;&#x5730;&#x56FE;,&#x8BBE;&#x7F6E;&#x4E2D;&#x5FC3;&#x70B9;&#x5750;&#x6807;&#x548C;&#x5730;&#x56FE;&#x7EA7;&#x522B;&#x3002;</span>
    map.enableScrollWheelZoom();  <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6EDA;&#x8F6E;&#x63A7;&#x5236;&#x5730;&#x56FE;&#x653E;&#x5927;&#x7F29;&#x5C0F;</span>
</code></pre>
<p><strong>Step2 &#x521D;&#x59CB;&#x5316;&#x7528;&#x4E8E;&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x7684;&#x70B9;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> point = <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.404</span>, <span class="hljs-number">39.915</span>);    <span class="hljs-comment">// &#x521B;&#x5EFA;&#x70B9;&#x5750;&#x6807;</span>
    <span class="hljs-keyword">var</span> iconself = <span class="hljs-keyword">new</span> BMap.Icon(<span class="hljs-string">&apos;http://sandbox.runjs.cn/uploads/rs/3/dofmucai/marker.png&apos;</span>,<span class="hljs-keyword">new</span> BMap.Size(<span class="hljs-number">35</span>,<span class="hljs-number">30</span>));
    <span class="hljs-keyword">var</span> marker = <span class="hljs-keyword">new</span> BMap.Marker(point,{
       icon:iconself
    });
    marker.disableMassClear();
    map.addOverlay(marker);
</code></pre>
<p><strong>Step3 &#x6267;&#x884C;SuperMap&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;</strong></p>
<p>&#x901A;&#x8FC7;iClient for JavaScript API&#x8C03;&#x7528;SuperMap REST &#x5730;&#x56FE;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> url=<span class="hljs-string">&quot;http://support.supermap.com.cn:8090/iserver/services/map-world/rest/maps/World&quot;</span>; 
    <span class="hljs-keyword">var</span> centerPoint = <span class="hljs-keyword">new</span> SuperMap.Geometry.Point(<span class="hljs-number">116.404</span>, <span class="hljs-number">39.915</span>);<span class="hljs-comment">//&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x70B9;&#x7684;&#x51E0;&#x4F55;&#x56FE;&#x5F62;</span>
    <span class="hljs-keyword">var</span> queryByDistanceParams = <span class="hljs-keyword">new</span> SuperMap.REST.QueryByDistanceParameters({
        queryParams: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-keyword">new</span> SuperMap.REST.FilterParameter({name: <span class="hljs-string">&quot;Capitals@World.1&quot;</span>})),<span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#x53CA;&#x53C2;&#x6570;</span>
        returnContent: <span class="hljs-literal">true</span>,
        distance: <span class="hljs-number">30</span>,
        geometry:centerPoint
    });
    <span class="hljs-keyword">var</span> queryByDistanceService = <span class="hljs-keyword">new</span> SuperMap.REST.QueryByDistanceService(url);<span class="hljs-comment">//&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x670D;&#x52A1;</span>
      queryByDistanceService.events.on({
        <span class="hljs-string">&quot;processCompleted&quot;</span>: bufferCompleted,
        <span class="hljs-string">&quot;processFailed&quot;</span>:bufferFailed
     });
    queryByDistanceService.processAsync(queryByDistanceParams); <span class="hljs-comment">//&#x53D1;&#x9001;&#x8BF7;&#x6C42;</span>
</code></pre>
<p><strong>Step4 &#x5BF9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x70B9;&#x8FDB;&#x884C;&#x7EA0;&#x504F;&#x5904;&#x7406;</strong></p>
<p>&#x628A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x653E;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;iConnectorBaidu.js&#x8F6C;&#x4E3A;&#x767E;&#x5EA6;&#x652F;&#x6301;&#x7684;&#x70B9;&#x5750;&#x6807;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> i, j, result = queryEventArgs.result;
    <span class="hljs-keyword">var</span> points = [];  <span class="hljs-comment">//&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;</span>
    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i &lt; result.recordsets.length; i++) {
        <span class="hljs-keyword">for</span>(j = <span class="hljs-number">0</span>; j &lt; result.recordsets[i].features.length; j++)
        {
             <span class="hljs-keyword">var</span> point = result.recordsets[i].features[j].geometry,
             size = <span class="hljs-keyword">new</span> SuperMap.Size(<span class="hljs-number">44</span>, <span class="hljs-number">33</span>),
             offset = <span class="hljs-keyword">new</span> SuperMap.Pixel(-(size.w/<span class="hljs-number">2</span>), -size.h),
             icon = <span class="hljs-keyword">new</span> SuperMap.Icon(<span class="hljs-string">&quot;marker.png&quot;</span>, size, offset);
             points.push(point);  <span class="hljs-comment">//&#x5C06;&#x8DDD;&#x79BB;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x70B9;&#x90FD;&#x653E;&#x5165;&#x6570;&#x7EC4;</span>
        }
    }
    SuperMap.Web.iConnector.Baidu.transferPoint(points,<span class="hljs-keyword">new</span> SuperMap.Projection(<span class="hljs-string">&quot;EPSG:4326&quot;</span>),acallback,<span class="hljs-number">2</span>);<span class="hljs-comment">//&#x5C06;supermap&#x7684;&#x70B9;&#x8F6C;&#x6362;&#x4E3A;&#x767E;&#x5EA6;&#x7684;&#x70B9;</span>
</code></pre>
<p><strong>Step5 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6807;&#x6CE8;&#x7EA0;&#x504F;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acallback</span>(<span class="hljs-params">xyResults</span>)</span>{<span class="hljs-comment">//BMap.Point&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x7EC4;&#xFF08;xyResults&#xFF09;&#xFF0C;&#x63A5;&#x6536;&#x8F6C;&#x6362;&#x7684;&#x70B9;</span>
        <span class="hljs-keyword">var</span> points = []
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> index <span class="hljs-keyword">in</span> xyResults){
            <span class="hljs-keyword">var</span> point = xyResults[index];
            points.push(point);
            <span class="hljs-keyword">var</span> marker1 = <span class="hljs-keyword">new</span> BMap.Marker(point);
            map.addOverlay(marker1);

        }
    }
</code></pre>
<p><strong>&#x5728;&#x7EBF;&#x6F14;&#x793A;&#x4E0E;&#x6E90;&#x7801;&#x7F16;&#x8F91;</strong></p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x8BBF;&#x95EE;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x3001;&#x4F53;&#x9A8C;&#x6F14;&#x793A;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x7EBF;&#x7F16;&#x8F91;&#x6E90;&#x7801;&#x5E76;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x6548;&#x679C;&#x3002;</p>
<ul>
<li><a href="http://runjs.cn/detail/tla28w74" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/tla28w74" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<h3 id="&#x793A;&#x4F8B;5-&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;supermap-sql&#x67E5;&#x8BE2;&#x7684;&#x7EBF;">&#x793A;&#x4F8B;5 &#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;SuperMap SQL&#x67E5;&#x8BE2;&#x7684;&#x7EBF;</h3>
<p>&#x672C;&#x4F8B;&#x5C06;&#x628A;SuperMap SQL&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x7EBF;&#x5BF9;&#x8C61;&#xFF0C;&#x7EA0;&#x504F;&#x540E;&#x53E0;&#x52A0;&#x5728;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;&#x3002;</p>
<p><strong>Step1 &#x521D;&#x59CB;&#x5316;&#x767E;&#x5EA6;&#x5730;&#x56FE;</strong></p>
<pre><code class="lang-JavaScript">    <span class="hljs-comment">//&#x5730;&#x56FE;&#x521D;&#x59CB;&#x5316;</span>
    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> BMap.Map(<span class="hljs-string">&quot;allmap&quot;</span>);            <span class="hljs-comment">// &#x521B;&#x5EFA;Map&#x5B9E;&#x4F8B;</span>
    <span class="hljs-keyword">var</span> point = <span class="hljs-keyword">new</span> BMap.Point(<span class="hljs-number">116.404</span>, <span class="hljs-number">32</span>);    <span class="hljs-comment">// &#x521B;&#x5EFA;&#x70B9;&#x5750;&#x6807;</span>
    map.centerAndZoom(point,<span class="hljs-number">5</span>);                     <span class="hljs-comment">// &#x521D;&#x59CB;&#x5316;&#x5730;&#x56FE;,&#x8BBE;&#x7F6E;&#x4E2D;&#x5FC3;&#x70B9;&#x5750;&#x6807;&#x548C;&#x5730;&#x56FE;&#x7EA7;&#x522B;&#x3002;</span>
    map.enableScrollWheelZoom();                            <span class="hljs-comment">//&#x542F;&#x7528;&#x6EDA;&#x8F6E;&#x653E;&#x5927;&#x7F29;&#x5C0F;</span>
</code></pre>
<p><strong>Step2 &#x6267;&#x884C;SuperMap SQL&#x67E5;&#x8BE2;</strong></p>
<p>&#x901A;&#x8FC7;iClient for JavaScript API&#x8C03;&#x7528;SuperMap REST &#x5730;&#x56FE;&#x670D;&#x52A1;&#x8FDB;&#x884C;SQL&#x67E5;&#x8BE2;&#xFF0C;&#x672C;&#x4F8B;&#x5C06;&#x5728;Rivers@World&#x56FE;&#x5C42;&#x4E2D;&#x67E5;&#x8BE2;SMID&#x4E3A;66&#x7684;&#x8981;&#x7D20;&#x3002;
&#x5B8C;&#x6210;&#x67E5;&#x8BE2;&#x540E;&#xFF0C;&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x51E0;&#x4F55;&#x5BF9;&#x8C61;&#x3002;</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">var</span> url=<span class="hljs-string">&quot;http://support.supermap.com.cn:8090/iserver/services/map-world/rest/maps/World&quot;</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">queryBySQL</span>(<span class="hljs-params"></span>) </span>{

        <span class="hljs-keyword">var</span> queryParam, queryBySQLParams, queryBySQLService;
        queryParam = <span class="hljs-keyword">new</span> SuperMap.REST.FilterParameter({
            name: <span class="hljs-string">&quot;Rivers@World&quot;</span>,
            attributeFilter: <span class="hljs-string">&quot;SMID=66&quot;</span>
        });
        queryBySQLParams = <span class="hljs-keyword">new</span> SuperMap.REST.QueryBySQLParameters({
            queryParams: [queryParam]
        });
        queryBySQLService = <span class="hljs-keyword">new</span> SuperMap.REST.QueryBySQLService(url, {
            eventListeners: {<span class="hljs-string">&quot;processCompleted&quot;</span>: processCompleted, <span class="hljs-string">&quot;processFailed&quot;</span>: processFailed}});
        queryBySQLService.processAsync(queryBySQLParams);
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processCompleted</span>(<span class="hljs-params">queryEventArgs</span>) </span>{
        <span class="hljs-keyword">var</span> i, j, feature,
                result = queryEventArgs.result;
        <span class="hljs-keyword">if</span> (result &amp;&amp; result.recordsets) {
            <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;result.recordsets.length; i++) {
                <span class="hljs-keyword">if</span> (result.recordsets[i].features) {
                    <span class="hljs-keyword">for</span> (j=<span class="hljs-number">0</span>; j&lt;result.recordsets[i].features.length; j++) {
                        feature = result.recordsets[i].features[j];
                        <span class="hljs-keyword">var</span> line = feature.geometry;
                        getPoints(line);
                    }
                }
            }
        }
    }
</code></pre>
<p><strong>Step3 &#x901A;&#x8FC7;iConnectorBaidu.js&#x7EA0;&#x504F;</strong></p>
<p>&#x901A;&#x8FC7;transferLine&#x53EF;&#x4EE5;&#x628A;SuperMap&#x7EBF;&#x51E0;&#x4F55;&#x5BF9;&#x8C61;&#x8F6C;&#x4E3A;&#x76F8;&#x5E94;&#x7684;&#x767E;&#x5EA6;&#x5750;&#x6807;&#x503C;&#x3002;</p>
<pre><code class="lang-JavaScript">        <span class="hljs-keyword">if</span>(geometry.CLASS_NAME === <span class="hljs-string">&apos;SuperMap.Geometry.MultiPolygon&apos;</span> ||
            geometry.CLASS_NAME === <span class="hljs-string">&apos;SuperMap.Geometry.MultiLineString&apos;</span> ||
            geometry.CLASS_NAME === <span class="hljs-string">&apos;SuperMap.Geometry.MultiPoint&apos;</span>){
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>,len = geometry.components.length;i&lt;len;i++){
                getPoints(geometry.components[i]);
            }
            <span class="hljs-keyword">return</span>;
        }
        SuperMap.Web.iConnector.Baidu.transferLine([geometry],<span class="hljs-keyword">new</span> SuperMap.Projection(<span class="hljs-string">&quot;EPSG:4326&quot;</span>),translateCallback);
</code></pre>
<p><strong>Step4 &#x628A;&#x7EA0;&#x504F;&#x540E;&#x7684;SuperMap&#x7EBF;&#x52A0;&#x8F7D;&#x5230;&#x767E;&#x5EA6;&#x5730;&#x56FE;&#x4E0A;</strong></p>
<pre><code class="lang-JavaScript">    map.addOverlay(polyline[<span class="hljs-number">0</span>]);
</code></pre>
<p><strong>&#x5728;&#x7EBF;&#x6F14;&#x793A;&#x4E0E;&#x6E90;&#x7801;&#x7F16;&#x8F91;</strong></p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x8BBF;&#x95EE;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x3001;&#x4F53;&#x9A8C;&#x6F14;&#x793A;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x7EBF;&#x7F16;&#x8F91;&#x6E90;&#x7801;&#x5E76;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x6548;&#x679C;&#x3002;</p>
<ul>
<li><a href="http://runjs.cn/detail/irwxvxzm" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/irwxvxzm" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<p>&#x6B64;&#x5916;&#xFF0C;SuperMap&#x9762;&#x5BF9;&#x50CF;&#x7684;&#x7EA0;&#x504F;&#x548C;&#x53E0;&#x52A0;&#x65B9;&#x5F0F;&#x4E0E;&#x70B9;&#x3001;&#x7EBF;&#x7C7B;&#x4F3C;&#xFF0C;&#x672C;&#x6587;&#x5C06;&#x4E0D;&#x518D;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#xFF0C;&#x793A;&#x8303;&#x7A0B;&#x5E8F;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="http://runjs.cn/detail/6jpdxgxk" target="_blank">&#x5728;&#x7EBF;&#x6F14;&#x793A;</a></li>
<li><a href="http://runjs.cn/code/6jpdxgxk" target="_blank">&#x6E90;&#x7801;&#x7F16;&#x8F91;</a></li>
</ul>
<script type="text/javascript">var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl&&targetUl.getElementsByTagName('a').length>0){targetUl.className='atoc';}</script> 

<footer class="page-footer"><span class="copyright">&#x7248;&#x6743;&#x6240;&#x6709;&#xA9;1997-2016 &#x5317;&#x4EAC;&#x8D85;&#x56FE;&#x8F6F;&#x4EF6;&#x80A1;&#x4EFD;&#x6709;&#x9650;&#x516C;&#x53F8; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2016-05-27 16:28:58
</span></footer>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./google.html" class="navigation navigation-prev " aria-label="Previous page: 对接 Google Maps"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./amap.html" class="navigation navigation-next " aria-label="Next page: 对接高德地图"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"sharing":{"weibo":true,"facebook":true,"twitter":true,"google":false,"instapaper":false,"vk":false,"all":["weibo","facebook","twitter","google","instapaper"]},"search-pro":{"cutWordLib":"nodejieba","defineWord":["地图","开发"]},"atoc":{"addClass":true,"className":"atoc"},"tbfed-pagefooter":{"copyright":"版权所有©1997-2016 北京超图软件股份有限公司","modify_label":"修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"splitter":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"livereload":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
